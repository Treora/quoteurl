!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){function t(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var n=t(e),r=n.replace(/\s+/g,"\\s+"),o="...",i=t(t(o));return r=r.replace(new RegExp(i,"g"),"(?:.|[\\r\\n])+"),new RegExp(r,"g")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("dom-anchor-text-position"),c=r(u),l=32,f=function(){function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(o(this,e),void 0===t)throw new Error('missing required parameter "root"');if(void 0===n)throw new Error('missing required parameter "exact"');this.root=t,this.exact=n,this.prefix=r.prefix,this.suffix=r.suffix}return a(e,[{key:"toRange",value:function(e){return this.toPositionAnchor(e).toRange()}},{key:"toSelector",value:function(){var e={type:"TextQuoteSelector",exact:this.exact};return void 0!==this.prefix&&(e.prefix=this.prefix),void 0!==this.suffix&&(e.suffix=this.suffix),e}},{key:"toPositionAnchor",value:function(){var e=this.root,t=e.textContent,n=i(this.exact),r=t.search(n);if(-1===r)throw new Error("no match found");var o=r+t.match(n)[0].length;return new c["default"](e,r,o)}}],[{key:"fromRange",value:function(e,t){if(void 0===t)throw new Error('missing required parameter "range"');var n=c["default"].fromRange(e,t);return this.fromPositionAnchor(n)}},{key:"fromSelector",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new e(t,n.exact,n)}},{key:"fromPositionAnchor",value:function(t){var n=t.root,r=t.start,o=t.end,i=n.textContent.substr(r,o-r),a=Math.max(0,r-l),u=n.textContent.substr(a,r-a),c=Math.min(n.textContent.length,o+l),f=n.textContent.substr(o,c-o);return new e(n,i,{prefix:u,suffix:f})}}]),e}();n["default"]=f,t.exports=n["default"]},{"dom-anchor-text-position":4}],2:[function(e,t,n){var r=function(){function e(e,n){function i(){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;for(var a in s)o(s[a]);e.setStart(t,n),e.setEnd(r,i)}if(!e.collapsed){"undefined"==typeof n&&(n="highlighted-range");var a=t(e),u=e.startContainer,c=e.startOffset,l=e.endContainer,f=e.endOffset,s=[];for(nodeIdx in a)s.push(r(a[nodeIdx],n));return e.setStart(u,c),e.setEnd(l,f),i}}function t(e){n(e);var t=[];if(e.collapsed)return t;if(e.startOffset!=e.startContainer.length&&0!=e.startOffset){var r=e.startContainer.splitText(e.startOffset);e.endContainer===e.startContainer&&e.setEnd(r,e.endOffset-e.startOffset),e.setStart(r,0)}for(var o="undefined"!=typeof e.commonAncestorContainer?e.commonAncestorContainer:document.body,i=document.createNodeIterator(o,NodeFilter.SHOW_TEXT);i.referenceNode!==e.startContainer&&null!==i.referenceNode;)i.nextNode();for(;i.referenceNode!==e.endContainer&&null!==i.referenceNode;)t.push(i.referenceNode),i.nextNode();return 0!=e.endOffset&&(e.endOffset!=e.endContainer.length&&e.endContainer.splitText(e.endOffset),t.push(e.endContainer)),t}function n(e){function t(e){if(e.nodeType===Node.TEXT_NODE)return e;var t=e.ownerDocument,n=t.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);return n.firstChild()}var n=e.startContainer,r=e.startOffset;n.nodeType!==Node.TEXT_NODE&&(r===n.childNodes.length?(n=n.childNodes[r-1],n=t(n),r=n.textContent.length):(n=n.childNodes[r],n=t(n),r=0),e.setStart(n,r));var o=e.endContainer,i=e.endOffset;o.nodeType!==Node.TEXT_NODE&&(i===o.childNodes.length?(o=o.childNodes[i-1],o=t(o),i=o.textContent.length):(o=o.childNodes[i],o=t(o),i=0),e.setEnd(o,i))}function r(e,t){var n=document.createElement("span");return n.classList.add(t),e.parentNode.replaceChild(n,e),n.appendChild(e),n}function o(e){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove()}return e}();"undefined"!=typeof t&&(t.exports=r)},{}],3:[function(e,t,n){function r(e){if(m.get()){var t=o();i(t,{scroll:!0})}}function o(){var e=window.location.hash,t=window.decodeURIComponent(e.substring(1,e.length));return t}function i(e,t){void 0===t&&(t={});var n=t.scroll;null!==g&&(g(),g=null);var r=v.selectorFromFragmentIdentifier(e);if(null!==r){var o=a(r);if(null===o)return void console.error("Could not locate the specified fragment: '"+e+"'.");if(g=h(o,"highlighted-by-url"),n){var i=o.startContainer.parentElement;p(i,{time:200})}}}function a(e){var t,n=e.type;if("TextQuoteSelector"!=n)throw new Error("Unsupported selector type: '"+n+"'.");try{t=d.fromSelector(document.body,e).toRange()}catch(r){return null}return t}function u(e){void 0===e&&(e={});var t=function(){var t=o();i(t,e)};["loaded","interactive","complete"].indexOf(document.readyState)>-1?t():window.addEventListener("load",t)}function c(){window.addEventListener("hashchange",r)}function l(){window.removeEventListener("hashchange",r),window.removeEventListener("load",r),null!==g&&(g(),g=null)}var f=e("trackr"),s=e("trackr-reactive-var"),d=e("dom-anchor-text-quote"),h=e("dom-highlight-range"),p=e("scroll-into-view"),v=e("./oa-selector-in-url"),m=new s(!1),g=null;f.autorun(function(){m.get()?c():f.currentComputation.firstRun||l()}),t.exports={enabled:m,runOnce:u}},{"./oa-selector-in-url":15,"dom-anchor-text-quote":1,"dom-highlight-range":2,"scroll-into-view":9,trackr:14,"trackr-reactive-var":11}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(e.nodeType===Node.TEXT_NODE)return e;var t=e.ownerDocument,n=t.createTreeWalker(e,s,null,!1);return n.firstChild()}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("node-iterator-shim"),c=r(u),l=e("dom-seek"),f=r(l),s=NodeFilter.SHOW_TEXT,d=function(){function e(t,n,r){if(o(this,e),void 0===t)throw new Error('missing required parameter "root"');if(void 0===n)throw new Error('missing required parameter "start"');if(void 0===r)throw new Error('missing required parameter "end"');this.root=t,this.start=n,this.end=r}return a(e,[{key:"toRange",value:function(){var e=this.root,t=e.ownerDocument,n=t.createRange(),r=(0,c["default"])(e,s),o=this.start,i=this.end,a=(0,f["default"])(r,o),u=o-a;r.pointerBeforeReferenceNode?n.setStart(r.referenceNode,u):(n.setStart(r.nextNode(),u),r.previousNode());var l=i-o+u;return a=(0,f["default"])(r,l),u=l-a,r.pointerBeforeReferenceNode?n.setEnd(r.referenceNode,u):n.setEnd(r.nextNode(),u),n}},{key:"toSelector",value:function(){return{type:"TextPositionSelector",start:this.start,end:this.end}}}],[{key:"fromRange",value:function(t,n){if(void 0===t)throw new Error('missing required parameter "root"');if(void 0===n)throw new Error('missing required parameter "range"');var r=n.startContainer,o=n.startOffset;r.nodeType!==Node.TEXT_NODE&&(o===r.childNodes.length?(r=r.childNodes[o-1],r=i(r),o=r.textContent.length):(r=r.childNodes[o],r=i(r),o=0));var a=n.endContainer,u=n.endOffset;a.nodeType!==Node.TEXT_NODE&&(u===a.childNodes.length?(a=a.childNodes[u-1],a=i(a),u=a.textContent.length):(a=a.childNodes[u],a=i(a),u=0));var l=(0,c["default"])(t,s),d=(0,f["default"])(l,r),h=d+(0,f["default"])(l,a);return new e(t,d+o,h+u)}},{key:"fromSelector",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new e(t,n.start,n.end)}}]),e}();n["default"]=d,t.exports=n["default"]},{"dom-seek":5,"node-iterator-shim":6}],5:[function(e,t,n){"use strict";function r(e,t){if(e.whatToShow!==NodeFilter.SHOW_TEXT)throw new Error(c);var n=0,r=e.referenceNode,f=null;if(o(t))f={forward:function(){return t>n},backward:function(){return n>t}};else{if(!i(t))throw new Error(l);f={forward:function(){return a(r,t)},backward:function(){return!e.pointerBeforeReferenceNode||u(r,t)}}}for(;f.forward()&&null!==(r=e.nextNode());)n+=r.textContent.length;for(;f.backward()&&null!==(r=e.previousNode());)n-=r.textContent.length;return n}function o(e){return!isNaN(parseInt(e))&&isFinite(e)}function i(e){return e.nodeType===Node.TEXT_NODE}function a(e,t){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING}function u(e,t){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var c="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",l="Argument 2 of seek must be a number or a Text Node.";t.exports=n["default"]},{}],6:[function(e,t,n){"use strict";function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=e.ownerDocument,i=r.createNodeIterator(e,t,n,!1);return"undefined"==typeof i.referenceNode?o(i,e):i}function o(e,t){var n=t,r=!0;return Object.create(NodeIterator.prototype,{root:{get:function(){return e.root}},whatToShow:{get:function(){return e.whatToShow}},filter:{get:function(){return e.filter}},referenceNode:{get:function(){return n}},pointerBeforeReferenceNode:{get:function(){return r}},detach:{get:function(){return e.detach}},nextNode:{value:function(){var t=e.nextNode();return r=!1,null===t?null:n=t}},previousNode:{value:function(){var t=e.previousNode();return r=!0,null===t?null:n=t}}})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],7:[function(e,t,n){(function(n){for(var r=e("performance-now"),o="undefined"==typeof window?n:window,i=["moz","webkit"],a="AnimationFrame",u=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],l=0;!u&&l<i.length;l++)u=o[i[l]+"Request"+a],c=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!u||!c){var f=0,s=0,d=[],h=1e3/60;u=function(e){if(0===d.length){var t=r(),n=Math.max(0,h-(t-f));f=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(f)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++s,callback:e,cancelled:!1}),s},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}t.exports=function(e){return u.call(o,e)},t.exports.cancel=function(){c.apply(o,arguments)},t.exports.polyfill=function(){o.requestAnimationFrame=u,o.cancelAnimationFrame=c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":8}],8:[function(e,t,n){(function(e){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:18}],9:[function(e,t,n){function r(e,t,n){e===window?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function o(e,t,n){var r,o,i,a,u,c=e.getBoundingClientRect(),l=n&&null!=n.left?n.left:.5,f=n&&null!=n.top?n.top:.5,s=l,d=f;if(t===window)o=c.left+window.scrollX-window.innerWidth*s+Math.min(c.width,window.innerWidth)*s,i=c.top+window.scrollY-window.innerHeight*d+Math.min(c.height,window.innerHeight)*d,o=Math.max(Math.min(o,document.body.scrollWidth-window.innerWidth*s),0),i=Math.max(Math.min(i,document.body.scrollHeight-window.innerHeight*d),0),a=o-window.scrollX,u=i-window.scrollY;else{r=t.getBoundingClientRect();var h=c.top-(r.top-t.scrollTop),p=c.left-(r.left-t.scrollLeft);o=p+c.width*s-t.clientWidth*s,i=h+c.height*d-t.clientHeight*d,o=Math.max(Math.min(o,t.scrollWidth-t.clientWidth),0),i=Math.max(Math.min(i,t.scrollHeight-t.clientHeight),0),a=o-t.scrollLeft,u=i-t.scrollTop}return{x:o,y:i,differenceX:a,differenceY:u}}function i(e){u(function(){var t=e._scrollSettings;if(t){var n=o(t.target,e,t.align),a=Date.now()-t.startTime,u=Math.min(1/t.time*a,1);if(a>t.time+20||Math.abs(n.differenceY)<=1&&Math.abs(n.differenceX)<=1)return r(e,n.x,n.y),e._scrollSettings=null,t.end(c);var l=u,f=u;r(e,n.x-n.differenceX*Math.pow(1-l,l/2),n.y-n.differenceY*Math.pow(1-f,f/2)),i(e)}})}function a(e,t,n,r){function o(e){t._scrollSettings=null,r(e),t.removeEventListener("touchstart",o)}var a=!t._scrollSettings;t._scrollSettings&&t._scrollSettings.end(l),t._scrollSettings={startTime:Date.now(),target:e,time:n.time,ease:n.ease,align:n.align,end:o},t.addEventListener("touchstart",o.bind(null,l)),a&&i(t)}var u=e("raf"),c="complete",l="canceled";t.exports=function(e,t,n){function r(e){i--,i||n&&n(e)}if(e){"function"==typeof t&&(n=t,t=null),t||(t={}),t.time=t.time||1e3,t.ease=t.ease||function(e){return e};for(var o=e.parentElement,i=0;o;){if((t.validTarget?t.validTarget(o,i):o===window||(o.scrollHeight!==o.clientHeight||o.scrollWidth!==o.clientWidth)&&"hidden"!==getComputedStyle(o).overflow)&&(i++,a(e,o,t,r)),o=o.parentElement,!o)return;"BODY"===o.tagName&&(o=window)}}}},{raf:7}],10:[function(e,t,n){var r=function(e){function t(t){var n=t.onselectionchange;if(n!==e)try{return t.onselectionchange=0,null===t.onselectionchange}catch(r){}finally{t.onselectionchange=n}return!1}function n(){return"undefined"!=typeof WeakMap?new WeakMap:(console.error("selectionchange: WeakMap not supported"),null)}function r(e){var t=e.getSelection();return t.rangeCount?t.getRangeAt(0):null}function o(e,t,n){e.addEventListener(t,n,!0)}function i(e,t,n){e.removeEventListener(t,n,!0)}function a(e){y[e.target.tagName]||d(this,!0)}function u(e){var t=e.keyCode;(65===t&&e[g]&&!e.shiftKey&&!e.altKey||t>=35&&40>=t||e.ctrlKey&&v&&m.indexOf(t)>=0)&&(y[e.target.tagName]||setTimeout(d.bind(null,this),0))}function c(e){0===e.button&&(o(this,"mousemove",l),setTimeout(d.bind(null,this),0))}function l(e){1&e.buttons?d(this):i(this,"mousemove",l)}function f(e){0===e.button?setTimeout(d.bind(null,this),0):i(this,"mousemove",l)}function s(){setTimeout(d.bind(null,this.document),0)}function d(e,t){var n=r(e);(t||!h(n,p.get(e)))&&(p.set(e,n),setTimeout(e.dispatchEvent.bind(e,new Event("selectionchange")),0))}function h(e,t){return e===t||e&&t&&w.every(function(n){return e[n]===t[n]})}var p,v=/^Mac/.test(navigator.platform),m=[65,66,69,70,78,80],g=v?"metaKey":"ctrlKey",w=["startContainer","startOffset","endContainer","endOffset"],y={INPUT:1,TEXTAREA:1};return{start:function(e){var i=e||document;(p||!t(i)&&(p=n()))&&(p.has(i)||(p.set(i,r(i)),o(i,"input",a),o(i,"keydown",u),o(i,"mousedown",c),o(i,"mousemove",l),o(i,"mouseup",f),o(i.defaultView,"focus",s)))},stop:function(e){var t=e||document;p&&p.has(t)&&(p["delete"](t),i(t,"input",a),i(t,"keydown",u),i(t,"mousedown",c),i(t,"mousemove",l),i(t,"mouseup",f),i(t.defaultView,"focus",s))}}}();"undefined"!=typeof t&&(t.exports=r)},{}],11:[function(e,t,n){var r,o=e("trackr");r=function(e,t){return this instanceof r?(this.curValue=e,this.equalsFunc=t,void(this.dep=new o.Dependency)):new r(e,t)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return o.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e},t.exports=r},{trackr:14}],12:[function(e,t,n){for(var r=e("performance-now"),o="undefined"==typeof window?{}:window,i=["moz","webkit"],a="AnimationFrame",u=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],l=0;l<i.length&&!u;l++)u=o[i[l]+"Request"+a],c=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!u||!c){var f=0,s=0,d=[],h=1e3/60;u=function(e){if(0===d.length){var t=r(),n=Math.max(0,h-(t-f));f=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(f)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++s,callback:e,cancelled:!1}),s},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}t.exports=function(e){return u.call(o,e)},t.exports.cancel=function(){c.apply(o,arguments)}},{"performance-now":13}],13:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{_process:18,dup:8}],14:[function(e,t,n){(function(n){t.exports=function(){if("undefined"!=typeof n.Trackr)return n.Trackr;var t=n.Trackr={};t.active=!1,t.currentComputation=null,t._computations={};var r=function(e){t.currentComputation=e,t.active=!!e},o=function(){return"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},i=function(e,t){if(d)throw t;var n=["Exception from Trackr "+e+" function:"];if(t.stack&&t.message&&t.name){var r=t.stack.indexOf(t.message);if(0>r||r>t.name.length+2){var i=t.name+": "+t.message;n.push(i)}}n.push(t.stack);for(var a=0;a<n.length;a++)o()(n[a])},a=function(e){return e},u=1,c=[],l=!1,f=!1,s=!1,d=!1,h=[],p=e("raf"),v=function(){l||(p(t._runFlush),l=!0)},m=!1;return t.Computation=function(e,n,r){if(!m)throw new Error("Trackr.Computation constructor is private; use Trackr.autorun");m=!1;var o=this;r=r||{},o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._onStopCallbacks=[],o._parent=n,o._func=e,o._onError=r.onError,o._recomputing=!1,o._context=r.context||null,t._computations[o._id]=o;var i=!0;try{o._compute(),i=!1}finally{o.firstRun=!1,i&&o.stop()}},t.Computation.prototype.onInvalidate=function(e,n){var r=this;if("function"!=typeof e)throw new Error("onInvalidate requires a function");r.invalidated?t.nonreactive(function(){a(e).call(n||r._context,r)}):r._onInvalidateCallbacks.push({fn:e,ctx:n})},t.Computation.prototype.onStop=function(e,n){var r=this;if("function"!=typeof e)throw new Error("onStop requires a function");r.stopped?t.nonreactive(function(){a(e).call(n||r._context,r)}):r._onStopCallbacks.push({fn:e,ctx:n})},t.Computation.prototype.invalidate=function(){var e=this;if(!e.invalidated){e._recomputing||e.stopped||(v(),c.push(this)),e.invalidated=!0;for(var n,r=0;n=e._onInvalidateCallbacks[r];r++)t.nonreactive(function(){a(n.fn).call(n.ctx||e._context,e)});e._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){var e=this;if(!e.stopped){e.stopped=!0,e.invalidate(),delete t._computations[e._id];for(var n,r=0;n=e._onStopCallbacks[r];r++)t.nonreactive(function(){a(n.fn).call(n.ctx||e._context,e)});e._onStopCallbacks=[]}},t.Computation.prototype._compute=function(){var e=this;e.invalidated=!1;var n=t.currentComputation;r(e);var o=s;s=!0;try{a(e._func).call(e._context,e)}finally{r(n),s=o}},t.Computation.prototype._needsRecompute=function(){var e=this;return e.invalidated&&!e.stopped},t.Computation.prototype._recompute=function(){var e=this;e._recomputing=!0;try{if(e._needsRecompute())try{e._compute()}catch(t){e._onError?e._onError(t):i("recompute",t)}}finally{e._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(e){if(!e){if(!t.active)return!1;e=t.currentComputation}var n=this,r=e._id;return r in n._dependentsById?!1:(n._dependentsById[r]=e,e.onInvalidate(function(){delete n._dependentsById[r]}),!0)},t.Dependency.prototype.changed=function(){var e=this;for(var t in e._dependentsById)e._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var e=this;for(var t in e._dependentsById)return!0;return!1},t.flush=function(e){t._runFlush({finishSynchronously:!0,throwFirstError:e&&e._throwFirstError})},t._runFlush=function(e){if(f)throw new Error("Can't call Trackr.flush while flushing");if(s)throw new Error("Can't flush inside Trackr.autorun");e=e||{},f=!0,l=!0,d=!!e.throwFirstError;var n=0,r=!1;try{for(;c.length||h.length;){for(;c.length;){var o=c.shift();if(o._recompute(),o._needsRecompute()&&c.unshift(o),!e.finishSynchronously&&++n>1e3)return void(r=!0)}if(h.length){var a=h.shift();try{a.fn.call(a.ctx)}catch(u){i("afterFlush",u)}}}r=!0}finally{if(r||(f=!1,t._runFlush({finishSynchronously:e.finishSynchronously,throwFirstError:!1})),l=!1,f=!1,c.length||h.length){if(e.finishSynchronously)throw new Error("still have more to do?");setTimeout(v,10)}}},t.autorun=function(e,n,r){if("function"!=typeof e)throw new Error("Trackr.autorun requires a function argument");n=n||{},r&&(n.context=r),m=!0;var o=new t.Computation(e,t.currentComputation,n);return t.active&&t.onInvalidate(function(){o.stop()}),o},t.nonReactive=t.nonreactive=function(e,n){var o=t.currentComputation;r(null);try{return e.call(n)}finally{r(o)}},t.nonReactable=t.nonreactable=function(e,n){return function(){var r=arguments,o=this;return t.nonreactive(function(){return e.apply(n||o,r)})}},t.onInvalidate=function(e,n){if(!t.active)throw new Error("Trackr.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(e,n)},t.afterFlush=function(e,t){h.push({fn:e,ctx:t}),v()},t}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{raf:12}],15:[function(e,t,n){function r(e){const t=/(?:\((.+)\))?"(.+)"(?:\((.+)\))?/;var n=e.match(t);if(n){var r=n[1],o=n[2],i=n[3],a={type:"TextQuoteSelector",exact:o};return void 0!==r&&(a.prefix=r),void 0!==i&&(a.suffix=i),a}return null}function o(e){return e.replace(/\s+/g," ").replace(/^ | $/,"")}function i(e,t){var n=e.length;if(t>=n)return e;var r,o,i="...",a=Math.floor((t-i.length)/2),u=Math.ceil(a/2),c="^(.{"+(u-1)+","+(a-1)+"}\\s).*?(\\s.{"+(u-1)+","+(a-1)+"})$",l=e.match(new RegExp(c));return null!==l?(r=l[1],o=l[2]):(r=e.substring(0,a),o=e.substring(n-a,n)),r+i+o}function a(e){if(null===e)return"";var t=e.type;if("TextQuoteSelector"==t){var n=e.exact,n=o(n);n=i(n,u);var r='"'+n+'"';return r}throw new Error("Unsupported selector type: '"+t+"'.")}var u=61;t.exports={selectorFromFragmentIdentifier:r,fragmentIdentifierFromSelector:a}},{}],16:[function(e,t,n){var r=e("trackr"),o=e("./referencing"),i=e("./dereferencing");o.enabled.set(!0),r.autorun(function(){var e=!o.active.get();if(i.enabled.set(e),e){var t=r.currentComputation.firstRun;i.runOnce({scroll:t})}}),function(){var e=document.createElement("style");e.innerHTML=".highlighted-by-url {background-color: yellow;}",document.head.appendChild(e)}()},{"./dereferencing":3,"./referencing":17,trackr:14}],17:[function(e,t,n){function r(e){if(d.get()){var t=document.getSelection();o(t)}}function o(e){if(null===e||e.isCollapsed)h.set(!1);else{h.set(!0),c.flush();var t=e.getRangeAt(0),n=f.fromRange(document.body,t).toSelector(),r=s.fragmentIdentifierFromSelector(n);h.get()?window.location.replace("#"+r):window.location.assign("#"+r)}}function i(){window.location.assign("")}function a(){document.addEventListener("selectionchange",r),["interactive","complete"].indexOf(document.readyState)>-1&&window.setTimeout(r,0)}function u(){window.removeEventListener("selectionchange",r),i(),h.set(!1)}var c=e("trackr"),l=e("trackr-reactive-var"),f=e("dom-anchor-text-quote");e("selectionchange-polyfill").start();var s=e("./oa-selector-in-url"),d=new l(!1),h=new l(!1);c.autorun(function(){d.get()?a():c.currentComputation.firstRun||u()}),t.exports={enabled:d,active:h}},{"./oa-selector-in-url":15,"dom-anchor-text-quote":1,"selectionchange-polyfill":10,trackr:14,"trackr-reactive-var":11}],18:[function(e,t,n){function r(){f=!1,u.length?l=u.concat(l):s=-1,l.length&&o()}function o(){if(!f){var e=setTimeout(r);f=!0;for(var t=l.length;t;){for(u=l,l=[];++s<t;)u&&u[s].run();s=-1,t=l.length}u=null,f=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var u,c=t.exports={},l=[],f=!1,s=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new i(e,t)),1!==l.length||f||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}]},{},[16]);